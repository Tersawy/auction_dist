"use strict";(self["webpackChunkauction"]=self["webpackChunkauction"]||[]).push([[476],{4651:function(t,s,e){e.r(s),e.d(s,{default:function(){return f}});var a=function(){var t=this,s=t._self._c;return s("header-image",[s("b-container",{staticClass:"custom_fluid_container h-100",attrs:{fluid:""}},[s("b-row",{staticClass:"text-white text-center h-100",attrs:{"align-h":"center","align-v":"center"}},[s("b-col",{staticClass:"p-0",attrs:{cols:"12",sm:"9",lg:"6",xl:"5"}},[s("b-card",{staticClass:"bg-secondary p-3 p-sm-5 mobile_full_height",attrs:{"no-body":""}},[s("logo",{attrs:{noRedirect:"",aStyle:"font-size:84px;",uctionStyle:"font-size:64px;"}}),s("h3",{staticClass:"my-4"},[t._v("Sign In")]),s("b-alert",{attrs:{variant:"danger",show:!!t.errorMsg}},[t._v(t._s(t.errorMsg))]),s("b-form",[s("base-input",{attrs:{noActiveColor:"",placeholder:"Username - Email - Mobile no",errorMsg:t.$signinErrorMsg("email")},model:{value:t.signin.email,callback:function(s){t.$set(t.signin,"email",s)},expression:"signin.email"}},[s("div",{staticClass:"pointer-events-none",attrs:{slot:"absolute-right-icon"},slot:"absolute-right-icon"},[s("BIconPersonCircle")],1)]),s("base-input",{attrs:{noActiveColor:"",type:t.passwordType,placeholder:"Password",errorMsg:t.$signinErrorMsg("password")},model:{value:t.signin.password,callback:function(s){t.$set(t.signin,"password",s)},expression:"signin.password"}},[s("div",{attrs:{slot:"absolute-right-icon"},slot:"absolute-right-icon"},[t.isPasswordShow?s("div",{attrs:{role:"button"},on:{click:t.togglePasswordType}},[s("BIconEyeSlash",{attrs:{scale:"1.2"}})],1):s("div",{attrs:{role:"button"},on:{click:t.togglePasswordType}},[s("BIconEye",{attrs:{scale:"1.2"}})],1)])]),s("b-overlay",{attrs:{show:t.isLoading,rounded:"",opacity:"0.4",variant:"dark","spinner-small":"","spinner-variant":"light"}},[s("b-btn",{staticClass:"mt-5",attrs:{block:"",variant:"primary",size:"lg",disabled:t.isLoading},on:{click:t.signIn}},[t._v("Sign In")])],1),s("div",{staticClass:"mt-4 text-left"},[s("span",[t._v("Don't have an account?")]),t._v("Â  "),s("router-link",{staticClass:"text-danger font-weight-bold text-decoration-none",attrs:{to:{name:"signup"}}},[t._v("Sign up")])],1)],1)],1)],1)],1)],1)],1)},i=[],o=e(9690),n=e(5039),r=e(4874),l=e(8752),c=e(403),g=e(3339),u=e(4659),d=e(5795),h=e(9307),p={name:"SignInView",components:{HeaderImage:o.Z,Logo:n.Z,BaseInput:r.Z,BIconPersonCircle:l.pbm,BIconEye:l.unT,BIconEyeSlash:l.qa2},mixins:[(0,c.Z)(),u.oE,(0,g.Z)("signin")],data(){return{signin:{email:"",password:""},isLoading:!1,errorMsg:""}},validations:{signin:{email:{required:d.C1},password:{required:d.C1}}},async beforeRouteEnter(t,s,e){let{token:a}=t.query;if(a)try{let t=await h.Z.post("/verify/",{token:a});return e((s=>{s.$bvToast.toast(s.$t(t.data.message||"auth.accountActivated"),{noCloseButton:!0,toaster:"b-toaster-top-full",toastClass:"mx-auto fs-lg bg-success text-white text-center"}),s.$router.replace({name:"signin"})}))}catch(i){return e((t=>{let s=t.$t(i.errors.message||"auth.expiredLink");if(i.errors.email){const e=t.$createElement,o=e("p",{class:["text-center","mb-0"]},[e("span",{class:["font-weight-bold"]},s),e("b-btn",{props:{variant:"primary",size:"sm"},class:["mx-2","font-weight-bold"],on:{click:async()=>{if(!t.isResendBtnLoading){t.isResendBtnLoading=!0;try{let s=await h.Z.post("/verify/",{token:a,email:i.errors.email});t.$bvToast.toast(t.$t(s.data.message||"auth.registerEmailActivationMessage"),{noCloseButton:!0,toaster:"b-toaster-top-full",toastClass:"mx-auto fs-lg bg-success text-white text-center"})}catch(i){let e=t.$t(i.errors.message||"auth.expiredLink");t.$bvToast.toast(e,{noCloseButton:!0,toaster:"b-toaster-top-full",toastClass:"mx-auto fs-lg bg-danger text-white text-center"})}}}}},t.$t("auth.clickToSendAgain"))]);s=[o]}t.$bvToast.toast(s,{noCloseButton:!0,toaster:"b-toaster-top-full",toastClass:"mx-auto fs-lg bg-danger text-white text-center",noHoverPause:!0}),t.$router.replace({name:"signin"})}))}e()},mounted(){this.$route.params.isRegistered&&this.$bvToast.toast(this.$t("auth.registerEmailActivationMessage"),{noCloseButton:!0,toaster:"b-toaster-top-full",toastClass:"mx-auto fs-lg bg-success text-white text-center"})},methods:{async signIn(){if(this.$resetSigninErrors(),this.errorMsg="",this.$v.$touch(),!this.$v.$invalid){this.isLoading=!0;try{await this.$store.dispatch("signin",this.signin)}catch(t){this.errorMsg=this.$t(401==t.status?"auth.invalidEmailOrPassword":"auth.activateYourEmailFirst")}finally{this.isLoading=!1}}}}},m=p,b=e(1001),v=(0,b.Z)(m,a,i,!1,null,null,null),f=v.exports}}]);